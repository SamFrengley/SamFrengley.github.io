<!DOCTYPE html>
<html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Performance comparison</title>
    <style type="text/css">
      body {
        font: 14px Helvetica Neue;
        text-rendering: optimizelegibility;
      }

      .body {
        width: 960px;
        margin: auto;
      }

      a:link {
        color: #1F78B4;
        text-decoration: none;
      }

      h2 {
        font-size: 36px;
        font-weight: 300;
      }

      h3 {
        font-size: 24px;
        font-weight: 300;
      }

      #footer {
        height: 40px;
        background: #888;
        color: white;
        font-size: larger;
        font-weight: 300;
      }

      #footer a {
        color: white;
        text-decoration: underline;
      }

      #footer p {
        text-align: center
      }

      table {
        border-collapse: collapse;
      }

      table,
      th,
      td {
        border: 1px solid #888;
      }
    </style>
  </head>

  <body>
    <div class="body">
      <h2>Comparing <code>sqrt_ratio</code> function implementations</h2>
      Comparison of performance of <code>sqrt_ratio</code> implementations. The new implementation (<code>new_method</code> below) merges the exponentiations in the Tonelli&ndash;Shanks algorithm with those in the inversion (as described in <a href="https://eprint.iacr.org/2020/1497.pdf">Scott's paper</a>). Thus 3 exponentiations (1 for each squareroot and 1 for the inversion) become 1 (computing the "projenitor" for <code>num^3*den</code>). When <i>p - 1</i> is <i>2</i>-adically small one expects this to perform much better. On the other hand when <i>p - 1 = 2<sup>s</sup> t</i> with <i>t</i> small, most of the time is spent on the loop and little is saved. The worst case of this is the Fermat primes, the best case is <i>p = 3</i> (mod <i>4</i>), but performance is pretty good when <i>t</i> is smallish. <br><br>
      
      Each instance consists of computing <code>sqrt_ratio(&num, &den)</code> for 1000 random pairs <code>(num, den)</code> (so that the average 6.75<i>ms</i> of <code>new_method</code> for <i>2<sup>255</sup> - 19</i> equates to average 6.75<i>&mu;s</i> per instance). This was on my machine, your milage may vary.<br><br>

      See individual benchmark pages below for more details.

      <h3>The favourable cases</h3>
      <ul>
        <li><a href="../sqrt_ratio_Curve25519/report/index.html">sqrt_ratio_Curve25519</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Curve25519/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Curve25519/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Secp256k1/report/index.html">sqrt_ratio_Secp256k1</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Secp256k1/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Secp256k1/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Random256_1/report/index.html">sqrt_ratio_Random256_1</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Random256_1/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Random256_1/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Random256_2/report/index.html">sqrt_ratio_Random256_2</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Random256_2/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Random256_2/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Random320/report/index.html">sqrt_ratio_Random320</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Random320/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Random320/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Random384/report/index.html">sqrt_ratio_Random384</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Random384/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Random384/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Random448/report/index.html">sqrt_ratio_Random448</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Random448/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Random448/old_method/report/index.html">old_method</a></li>
        </ul>
      </ul>

      <h3>The unfavourable cases</h3>
      <ul>
        <li><a href="../sqrt_ratio_Fermat65537/report/index.html">sqrt_ratio_Fermat65537</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Fermat65537/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Fermat65537/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Bls381K12/report/index.html">sqrt_ratio_Bls381K12</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Bls381K12/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Bls381K12/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_JubJub/report/index.html">sqrt_ratio_JubJub</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_JubJub/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_JubJub/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Pallas/report/index.html">sqrt_ratio_Pallas</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Pallas/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Pallas/old_method/report/index.html">old_method</a></li>
        </ul>
        <li><a href="../sqrt_ratio_Vesta/report/index.html">sqrt_ratio_Vesta</a></li>
        
        <ul>
          <li><a href="../sqrt_ratio_Vesta/new_method/report/index.html">new_method</a></li>
          <li><a href="../sqrt_ratio_Vesta/old_method/report/index.html">old_method</a></li>
        </ul>
      </ul>
    </div>
    <div id="footer">
      <p>This report was generated by
        <a href="https://github.com/bheisler/criterion.rs">Criterion.rs</a>, a statistics-driven benchmarking
        library in Rust.</p>
    </div>
  </body>
</html>
